{"version":3,"sources":["verifyToken.js"],"names":["jwt","require","validate","req","res","next","token","headers","authorization","split","status","json","error","verify","process","env","SECRET_KEY","err","decoded","user","module","exports"],"mappings":";;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAOC,GAAP,EAAWC,GAAX,EAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,UAAAA,KADO,GACCH,GAAG,CAACI,OAAJ,CAAYC,aAAZ,IAA6BL,GAAG,CAACI,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAD9B;;AAAA,cAETH,KAFS;AAAA;AAAA;AAAA;;AAAA,2CAGFF,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAACC,YAAAA,KAAK,EAAC;AAAP,WAAtB,CAHE;;AAAA;AAKbZ,UAAAA,GAAG,CAACa,MAAJ,CAAWP,KAAX,EAAkBQ,OAAO,CAACC,GAAR,CAAYC,UAA9B,EAA0C,UAACC,GAAD,EAAKC,OAAL,EAAe;AACrD,gBAAGD,GAAH,EAAO;AACH,qBAAOb,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,gBAAAA,KAAK,EAAC;AAAP,eAArB,CAAP;AACH;;AACDT,YAAAA,GAAG,CAACgB,IAAJ,GAAWD,OAAX;AACAb,YAAAA,IAAI;AACP,WAND;;AALa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;;AAaAe,MAAM,CAACC,OAAP,GAAiBnB,QAAjB","sourcesContent":["const jwt = require('jsonwebtoken')\r\n\r\nconst validate = async (req,res, next) =>{\r\n    const token = req.headers.authorization && req.headers.authorization.split(' ')[1];\r\n    if(!token){\r\n        return res.status(401).json ({error:\"Unauthorized\"})\r\n    }\r\n    jwt.verify(token, process.env.SECRET_KEY, (err,decoded)=>{\r\n        if(err){\r\n            return res.status(401).json({error:\"Unauthorized\"})\r\n        }\r\n        req.user = decoded;\r\n        next()\r\n    })\r\n}\r\nmodule.exports = validate"],"file":"verifyToken.dev.js"}