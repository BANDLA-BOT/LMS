"use strict";var router=require("express").Router(),sendEmail=require("../config/sendmail.js"),_require=require("../models/registrationModel.js"),registerModel=_require.registerModel;router.post("/",function(r,s){var a,n,t,o,i,u,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.body,n=a.username,t=a.email,o=a.password,i=a.role,e.prev=1,u=new registerModel({email:t,username:n,password:o,role:i}),e.next=5,regeneratorRuntime.awrap(u.save());case 5:return c="\n    <h1>Registered successfully as <span>".concat(u.role,"</span></h1>\n    <p>email:  ").concat(u.email,"</p>\n    <p>password:  ").concat(u.password,"</p>\n    "),e.next=8,regeneratorRuntime.awrap(sendEmail(t,"Registration",c));case 8:s.json({message:"success",user:u}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),s.json({message:"Registration failed",error:e.t0});case 14:case"end":return e.stop()}},null,null,[[1,11]])}),module.exports=router;
//# sourceMappingURL=register.min.js.map
