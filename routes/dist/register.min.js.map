{"version":3,"sources":["register.js"],"names":["router","require","Router","sendEmail","registerModel","req","res","body","username","email","password","role","user","save","text","json","message","_context","t0","module","exports"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,WAAWC,SAC5BC,UAAYF,QAAQ,kCADHA,QAAWC,kCAA5BF,uBAAAA,cAONA,OALQI,KAAAA,IAAAA,SAKeC,EAAKC,GALpBF,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAAAA,EAMsCC,EAAIE,KAAxCC,EANFJ,EAMEI,SAAUC,EANZL,EAMYK,MAAOC,EANnBN,EAMmBM,SAAUC,EAN7BP,EAM6BO,KAN7BP,EAAAA,KAAAA,EAKQQ,EAAA,IAAAR,cAAA,CAKVK,MAAOA,EALGD,SAAAA,EAAAE,SAAAA,EAAAC,KAAAA,IALRP,EAAAA,KAAAA,EAAAA,mBAAAA,MAKQQ,EAAAC,QALRT,KAAAA,EAAAA,OAKQU,EALRV,8CAAAA,OAS2BQ,EAAAD,KAT3BP,iCAAAA,OAUGQ,EAAEH,MAVLL,4BAAAA,OAWMQ,EAAEJ,SAXRJ,cAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,MAaFO,UAAMA,EAAAA,eAAAA,IAbJP,KAAAA,EAS2BE,EAAAS,KAJnB,CAAAC,QAAA,UAAAJ,KAAAA,IALRR,EAAAA,KAAAA,GAAAA,MAAAA,KAAAA,GAAAA,EAAAA,KAAAA,GAAAA,EAAAA,GAAAA,EAAAA,MAAAA,GAKQE,EAAAS,KAAA,CAAAC,QAAA,sBAUDH,MAALI,EAAAC,KAfFd,KAAAA,GAAAA,IAAAA,MAAAA,OAAAA,EAAAA,SAAAA,KAAAA,KAAAA,CAAAA,CAAAA,EAAAA,QAKQe,OAAAC,QAAApB","file":"register.min.js","sourcesContent":["const router = require(\"express\").Router();\r\nconst sendEmail = require(\"../config/sendmail.js\");\r\nconst { registerModel } = require(\"../models/registrationModel.js\");\r\n\r\n\r\n//registration for Admin and Instructor\r\n\r\nrouter.post(\"/\",async (req, res) => {\r\n  const { username, email, password, role } = req.body;\r\n\r\n  try {\r\n    const user = new registerModel({\r\n      email: email,\r\n      username: username,\r\n      password: password,\r\n      role: role,\r\n    });\r\n    await user.save();\r\n    const text = `\r\n    <h1>Registered successfully as <span>${user.role}</span></h1>\r\n    <p>email:  ${user.email}</p>\r\n    <p>password:  ${user.password}</p>\r\n    `;\r\n    await sendEmail(email, \"Registration\", text);\r\n    res.json({ message: \"success\", user });\r\n  } catch (error) {\r\n    res.json({ message: \"Registration failed\", error });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"]}