"use strict";var router=require("express").Router(),_require=require("../models/registrationModel.js"),registerModel=_require.registerModel;router.post("/login",function(r,t){var n,s,o,a,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.body,s=n.email,o=n.password,"admin"===(a=n.role))return e.next=4,regeneratorRuntime.awrap(registerModel.findOne({role:a,email:s,password:o}));e.next=9;break;case 4:i=e.sent,console.log(i),i?t.json({message:"Admin logged in"}):i||t.json({message:"Error while login"}),e.next=11;break;case 9:t.json({message:"Error while log in "}),console.log("error");case 11:case"end":return e.stop()}})}),router.get("/getall",function(e,r){var t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(registerModel.find({role:"student"}));case 2:return t=e.sent,e.next=5,regeneratorRuntime.awrap(registerModel.find({role:"instructor"}));case 5:n=e.sent,r.json({students:t,instructors:n});case 7:case"end":return e.stop()}})}),router.delete("/deleteuser/:id",function(r,t){var n,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.params.id,console.log(n),e.next=4,regeneratorRuntime.awrap(registerModel.deleteOne({_id:n}));case 4:s=e.sent,t.json({message:"user",user:s});case 6:case"end":return e.stop()}})}),module.exports=router;
//# sourceMappingURL=admin.min.js.map
