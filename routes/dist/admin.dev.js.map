{"version":3,"sources":["admin.js"],"names":["router","require","Router","registerModel","post","req","res","next","body","email","password","role","findOne","admin","console","log","json","message","get","find","students","instructors","id","params","deleteOne","_id","user","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;eACwBD,OAAO,CAAC,gCAAD,C;IAAxBE,a,YAAAA,a;;AAIPH,MAAM,CAACI,IAAP,CAAY,QAAZ,EAAsB,iBAAMC,GAAN,EAAUC,GAAV,EAAcC,IAAd;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACYF,GAAG,CAACG,IADhB,EACXC,KADW,aACXA,KADW,EACLC,QADK,aACLA,QADK,EACIC,IADJ,aACIA,IADJ;;AAAA,gBAEfA,IAAI,KAAK,OAFM;AAAA;AAAA;AAAA;;AAAA;AAAA,0CAGMR,aAAa,CAACS,OAAd,CAAsB;AAACD,YAAAA,IAAI,EAACA,IAAN;AAAWF,YAAAA,KAAK,EAACA,KAAjB;AAAuBC,YAAAA,QAAQ,EAACA;AAAhC,WAAtB,CAHN;;AAAA;AAGRG,UAAAA,KAHQ;AAIdC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,cAAGA,KAAH,EAAS;AACLP,YAAAA,GAAG,CAACU,IAAJ,CAAS;AAACC,cAAAA,OAAO,EAAC;AAAT,aAAT;AACH,WAFD,MAGK,IAAG,CAACJ,KAAJ,EAAU;AACXP,YAAAA,GAAG,CAACU,IAAJ,CAAS;AAACC,cAAAA,OAAO,EAAC;AAAT,aAAT;AACH;;AAVa;AAAA;;AAAA;AAadX,UAAAA,GAAG,CAACU,IAAJ,CAAS;AAACC,YAAAA,OAAO,EAAC;AAAT,WAAT;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAdc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;AAiBAf,MAAM,CAACkB,GAAP,CAAW,SAAX,EAAsB,kBAAMb,GAAN,EAAUC,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACKH,aAAa,CAACgB,IAAd,CAAmB;AAACR,YAAAA,IAAI,EAAC;AAAN,WAAnB,CADL;;AAAA;AACZS,UAAAA,QADY;AAAA;AAAA,0CAEQjB,aAAa,CAACgB,IAAd,CAAmB;AAACR,YAAAA,IAAI,EAAC;AAAN,WAAnB,CAFR;;AAAA;AAEZU,UAAAA,WAFY;AAGlBf,UAAAA,GAAG,CAACU,IAAJ,CAAS;AAACI,YAAAA,QAAQ,EAACA,QAAV;AAAoBC,YAAAA,WAAW,EAACA;AAAhC,WAAT;;AAHkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;AAKArB,MAAM,UAAN,CAAc,iBAAd,EAAiC,kBAAMK,GAAN,EAAUC,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBgB,UAAAA,EADuB,GAClBjB,GAAG,CAACkB,MAAJ,CAAWD,EADO;AAE7BR,UAAAA,OAAO,CAACC,GAAR,CAAYO,EAAZ;AAF6B;AAAA,0CAGVnB,aAAa,CAACqB,SAAd,CAAwB;AAACC,YAAAA,GAAG,EAACH;AAAL,WAAxB,CAHU;;AAAA;AAGvBI,UAAAA,IAHuB;AAI7BpB,UAAAA,GAAG,CAACU,IAAJ,CAAS;AAACC,YAAAA,OAAO,EAAC,MAAT;AAAiBS,YAAAA,IAAI,EAAJA;AAAjB,WAAT;;AAJ6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjC;AAMAC,MAAM,CAACC,OAAP,GAAiB5B,MAAjB","sourcesContent":["const router = require('express').Router();\r\nconst {registerModel} = require('../models/registrationModel.js')\r\n\r\n\r\n\r\nrouter.post('/login', async(req,res,next)=>{\r\n    const {email,password,role} = req.body\r\n    if(role === 'admin'){\r\n        const admin = await registerModel.findOne({role:role,email:email,password:password})\r\n        console.log(admin)\r\n        if(admin){\r\n            res.json({message:\"Admin logged in\"})\r\n        }\r\n        else if(!admin){\r\n            res.json({message:\"Error while login\"})\r\n        }\r\n    }\r\n    else{\r\n        res.json({message:\"Error while log in \"})\r\n        console.log(\"error\")\r\n    }\r\n})\r\nrouter.get('/getall', async(req,res)=>{\r\n    const students = await registerModel.find({role:\"student\"})\r\n    const instructors = await registerModel.find({role:\"instructor\"})\r\n    res.json({students:students, instructors:instructors})\r\n})\r\nrouter.delete('/deleteuser/:id', async(req,res)=>{\r\n    const id = req.params.id\r\n    console.log(id)\r\n    const user = await registerModel.deleteOne({_id:id})\r\n    res.json({message:\"user\", user})\r\n})\r\nmodule.exports = router"],"file":"admin.dev.js"}