{"version":3,"sources":["register.js"],"names":["router","require","Router","sendEmail","registerModel","post","req","res","body","username","email","password","role","user","save","text","json","message","error","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,IAAMC,SAAS,GAAGF,OAAO,CAAC,uBAAD,CAAzB;;eAC0BA,OAAO,CAAC,gCAAD,C;IAAzBG,a,YAAAA,a,EAGR;;;AAEAJ,MAAM,CAACK,IAAP,CAAY,GAAZ,EAAgB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBAC8BD,GAAG,CAACE,IADlC,EACNC,QADM,aACNA,QADM,EACIC,KADJ,aACIA,KADJ,EACWC,QADX,aACWA,QADX,EACqBC,IADrB,aACqBA,IADrB;AAAA;AAINC,UAAAA,IAJM,GAIC,IAAIT,aAAJ,CAAkB;AAC7BM,YAAAA,KAAK,EAAEA,KADsB;AAE7BD,YAAAA,QAAQ,EAAEA,QAFmB;AAG7BE,YAAAA,QAAQ,EAAEA,QAHmB;AAI7BC,YAAAA,IAAI,EAAEA;AAJuB,WAAlB,CAJD;AAAA;AAAA,0CAUNC,IAAI,CAACC,IAAL,EAVM;;AAAA;AAWNC,UAAAA,IAXM,wDAY2BF,IAAI,CAACD,IAZhC,0CAaCC,IAAI,CAACH,KAbN,qCAcIG,IAAI,CAACF,QAdT;AAAA;AAAA,0CAgBNR,SAAS,CAACO,KAAD,EAAQ,cAAR,EAAwBK,IAAxB,CAhBH;;AAAA;AAiBZR,UAAAA,GAAG,CAACS,IAAJ,CAAS;AAAEC,YAAAA,OAAO,EAAE,SAAX;AAAsBJ,YAAAA,IAAI,EAAJA;AAAtB,WAAT;AAjBY;AAAA;;AAAA;AAAA;AAAA;AAmBZN,UAAAA,GAAG,CAACS,IAAJ,CAAS;AAAEC,YAAAA,OAAO,EAAE,qBAAX;AAAkCC,YAAAA,KAAK;AAAvC,WAAT;;AAnBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;AAuBAC,MAAM,CAACC,OAAP,GAAiBpB,MAAjB","sourcesContent":["const router = require(\"express\").Router();\r\nconst sendEmail = require(\"../config/sendmail.js\");\r\nconst { registerModel } = require(\"../models/registrationModel.js\");\r\n\r\n\r\n//registration for Admin and Instructor\r\n\r\nrouter.post(\"/\",async (req, res) => {\r\n  const { username, email, password, role } = req.body;\r\n\r\n  try {\r\n    const user = new registerModel({\r\n      email: email,\r\n      username: username,\r\n      password: password,\r\n      role: role,\r\n    });\r\n    await user.save();\r\n    const text = `\r\n    <h1>Registered successfully as <span>${user.role}</span></h1>\r\n    <p>email:  ${user.email}</p>\r\n    <p>password:  ${user.password}</p>\r\n    `;\r\n    await sendEmail(email, \"Registration\", text);\r\n    res.json({ message: \"success\", user });\r\n  } catch (error) {\r\n    res.json({ message: \"Registration failed\", error });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"file":"register.dev.js"}